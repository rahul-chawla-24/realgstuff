<!-- navbar with logo, search and filter -->
<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow p-3 mb-5 bg-white rounded">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
    aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <a class="navbar-brand mb-0 p-0 text-warning h1" href="/consumer/home"><img
        src="/public/assets/logo-img/logonew.png" alt="new-logo" style="height: 50px;"> Fooder</a>
    <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
      {{#if filterRestaurant}}
      {{#if cuisineCheck}}
      <li class="nav-item">
        <nav class="nav nav-pills flex-column flex-sm-row">
          <a class="flex-sm-fill text-sm-center nav-link active" href="#" style="color: aliceblue;">Selected cuisine :
            <strong> {{cuisineCheck}} </strong></a>
        </nav>
      </li>
      {{/if}}
      {{else}}
      {{#if cuisineCheck}}
      <li class="nav-item">
        <nav class="nav nav-pills flex-column flex-sm-row">
          <a class="flex-sm-fill text-sm-center nav-link active" href="#" style="color: aliceblue;">Selected cuisine :
            <strong> {{cuisineCheck}} </strong></a>
        </nav>
      </li>
      {{else}}
      <li class="nav-item">
        <form class="form-inline my-2 my-lg-0" method="POST" {{#if user}}action="/consumer/allrestaurants" {{else}}
          action="/allrestaurants" {{/if}}>
          <input class="form-control mr-sm-2" type="search" name="query" placeholder="Search for restaurants"
            style="width: 400px;" aria-label="Search">
          <button class="btn btn-outline-warning my-2 my-sm-0" type="submit"><i class="fa fa-search"
              aria-hidden="true"></i></button>
        </form>
      </li>
      {{/if}}
      {{/if}}
    </ul>
    <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
      {{#if user}}
      <li class="nav-item">
        <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#exampleModal">Filters <i
            class="fa fa-filter" aria-hidden="true"></i>
        </button>
      </li>
      <li class="nav-item mx-2">
        <div class="d-flex">
          <div class="dropdown mr-1">
            <a class="nav-link dropdown-toggle" id="dropdownMenuOffset" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false" data-offset="10,20">
              <i class="fa fa-user mr-1"></i>{{user.name}}
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuOffset">
              <a class="dropdown-item" href="/consumer/profile">Profile</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/logout">Logout</a>
            </div>
          </div>
        </div>
      </li>
      {{else}}
      <li class="nav-item mx-2">
        <div class="d-flex">
          <div class="dropdown mr-1">
            <a class="nav-link dropdown-toggle" id="dropdownMenuOffset" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false" data-offset="10,20">
              <i class="fa fa-user mr-1"></i>Guest
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuOffset">
              <a class="dropdown-item" href="/">Login</a>
            </div>
          </div>
        </div>
      </li>
      {{/if}}
    </ul>
  </div>
  </div>
</nav>
<!--navbar ends here-->

<!--all restaurant container body-->
<div class="container" style="margin-top: 25vh">
  <div class="d-flex flex-wrap justify-content-center">

    <!--cards for all restaurants display-->
    {{#if displayRestaurant}}
    {{#if user}}
    {{#each displayRestaurant}}
    <div class="p-1">
      <a href="/consumer/restaurant/{{this._id}}" style="text-decoration: none;">
        <div class="card box p-3 mb-5" style="width: 16rem;">
          <img class="card-img-top" src="{{this.restaurantImageURL}}" alt="Card image cap"
            style="width:100%;height:15vw;object-fit:cover">
          <div class="card-body text-dark" style="padding: 0px;">
            <p class="card-title" style="font-size: 16px; font-weight: 500;">{{this.restaurantName}}</p>
            <p class="card-text" style="font-size:14px;"><button type="button" class="btn btn-success btn-sm"
                style="font-size: 11px;"><i class="fa fa-star" aria-hidden="true"></i> 4.1</button> - {{this.cuisine}} -
              32mins
            </p>
          </div>
        </div>
      </a>
    </div>
    {{/each}}
    {{else}}
    {{#each displayRestaurant}}
    <div class="p-1">
      <a href="/restaurant/{{this._id}}" style="text-decoration: none;">
        <div class="card box p-3 mb-5" style="width: 16rem;">
          <img class="card-img-top" src="{{this.restaurantImageURL}}" alt="Card image cap"
            style="width:100%;height:15vw;object-fit:cover">
          <div class="card-body text-dark" style="padding: 0px;">
            <p class="card-title" style="font-size: 16px; font-weight: 500;">{{this.restaurantName}}</p>
            <p class="card-text" style="font-size:14px;"><button type="button" class="btn btn-success btn-sm"
                style="font-size: 11px;"><i class="fa fa-star" aria-hidden="true"></i> 4.1</button> - {{this.cuisine}} -
              32mins
            </p>
          </div>
        </div>
      </a>
    </div>
    {{/each}}
    {{/if}}
    {{/if}}
    <!--cards for all restaurants display ends-->

    <!--restaurant cards for search -->
    {{#if searchRestaurant}}
    {{#if user}}
    {{#each searchRestaurant}}
    <div class="p-1">
      <a href="/consumer/restaurant/{{this._id}}" style="text-decoration: none;">
        <div class="card box p-3 mb-5 " style="width: 16rem;">
          <img class="card-img-top" src="{{this.restaurantImageURL}}" alt="Card image cap"
            style="width:100%;height:15vw;object-fit:cover">
          <div class="card-body text-dark" style="padding: 0px;">
            <p class="card-title" style="font-size: 16px; font-weight: 500;">{{this.restaurantName}}</p>
            <p class="card-text" style="font-size:14px;"><button type="button" class="btn btn-success btn-sm"
                style="font-size: 11px;"><i class="fa fa-star" aria-hidden="true"></i> 4.1</button> - {{this.cuisine}} -
              32mins
            </p>
          </div>
        </div>
      </a>
    </div>
    {{/each}}
    {{else}}
    {{#each searchRestaurant}}
    <div class="p-1">
      <a href="/restaurant/{{this._id}}" style="text-decoration: none;">
        <div class="card box p-3 mb-5 " style="width: 16rem;">
          <img class="card-img-top" src="{{this.restaurantImageURL}}" alt="Card image cap"
            style="width:100%;height:15vw;object-fit:cover">
          <div class="card-body text-dark" style="padding: 0px;">
            <p class="card-title" style="font-size: 16px; font-weight: 500;">{{this.restaurantName}}</p>
            <p class="card-text" style="font-size:14px;"><button type="button" class="btn btn-success btn-sm"
                style="font-size: 11px;"><i class="fa fa-star" aria-hidden="true"></i> 4.1</button> - {{this.cuisine}} -
              32mins
            </p>
          </div>
        </div>
      </a>
    </div>
    {{/each}}
    {{/if}}
    {{/if}}
    <!--restaurant cards for search ends-->

    <!--restaurant cards for filter by cuisine-->
    {{#if filterRestaurant}}
    {{#if user}}
    {{#each filterRestaurant}}
    <div class="p-1">
      <a href="/consumer/restaurant/{{this._id}}" style="text-decoration: none;">
        <div class="card box p-3 mb-5" style="width: 16rem;">
          <img class="card-img-top" src="{{this.restaurantImageURL}}" alt="Card image cap"
            style="width:100%;height:15vw;object-fit:cover">
          <div class="card-body text-dark" style="padding: 0px;">
            <p class="card-title" style="font-size: 16px; font-weight: 500;">{{this.restaurantName}}</p>
            <p class="card-text" style="font-size:14px;"><button type="button" class="btn btn-success btn-sm"
                style="font-size: 11px;"><i class="fa fa-star" aria-hidden="true"></i> 4.1</button> - {{this.cuisine}} -
              32mins
            </p>
          </div>
        </div>
      </a>
    </div>
    {{/each}}
    {{else}}
    {{#each filterRestaurant}}
    <div class="p-1">
      <a href="/restaurant/{{this._id}}" style="text-decoration: none;">
        <div class="card box p-3 mb-5" style="width: 16rem;">
          <img class="card-img-top" src="{{this.restaurantImageURL}}" alt="Card image cap"
            style="width:100%;height:15vw;object-fit:cover">
          <div class="card-body text-dark" style="padding: 0px;">
            <p class="card-title" style="font-size: 16px; font-weight: 500;">{{this.restaurantName}}</p>
            <p class="card-text" style="font-size:14px;"><button type="button" class="btn btn-success btn-sm"
                style="font-size: 11px;"><i class="fa fa-star" aria-hidden="true"></i> 4.1</button> - {{this.cuisine}} -
              32mins
            </p>
          </div>
        </div>
      </a>
    </div>
    {{/each}}
    {{/if}}
    {{/if}}
    <!--restaurant cards for filter by cuisine ends-->

    <!--Dynamic error card for NO RESTAURANT FOUND-->
    {{#if noDataFoundError}}
    <div class="card mb-3 bg-info shadow text-white">
      <div class="row no-gutters">
        <div class="col-md-5">
          <img src="https://previews.customer.envatousercontent.com/files/55764716/590x3000.jpg" class="card-img"
            alt="No restuarant found" style="filter: blur(1px);">
          <div class="card-img-overlay">
            <h1 style="text-align: center;">{{noDataFoundError.errHeader}}</h1>
          </div>
        </div>
        <div class="col-md-7">
          <div class="card-body" style="text-align: center;">
            <h3 class="card-title">{{noDataFoundError.errTitle}}</h3>
            <hr>
            <p class="card-text">{{noDataFoundError.errMsg}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex flex-wrap justify-content-center">
      {{#if user}}
      <a href="/consumer/allrestaurants" class="btn btn-warning">show all restaurants</a>
      {{else}}
      <a href="/allrestaurants" class="btn btn-warning">show all restaurants</a>
      {{/if}}
    </div>
    {{/if}}
    <!--Dynamic error card ends here-->
  </div>

  <div class="d-flex flex-wrap justify-content-center">
    {{#if searchRestaurant}}
    {{#if user}}
    <a href="/consumer/allrestaurants" class="btn btn-warning">show all restaurants</a>
    {{else}}
    <a href="/allrestaurants" class="btn btn-warning">show all restaurants</a>
    {{/if}}
    {{/if}}
    {{#if filterRestaurant}}
    <a href="/consumer/allrestaurants" class="btn btn-warning">show all restaurants</a>
    {{/if}}
  </div>

</div>
<!--all restaurant container body ends-->

<!--Modal for filter by cuisine-->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Filters</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form class="form" method="POST" action="/consumer/allrestaurants/filter">
          <h6>Cuisines</h6>
          <div class="custom-control custom-radio">
            <input type="radio" id="customRadio1" name="cuisineRadio" value="northindian" class="custom-control-input"
              required>
            <label class="custom-control-label" for="customRadio1">North Indian</label>
          </div>
          <div class="custom-control custom-radio">
            <input type="radio" id="customRadio2" name="cuisineRadio" value="continental" class="custom-control-input"
              required>
            <label class="custom-control-label" for="customRadio2">Continental</label>
          </div>
          <div class="custom-control custom-radio">
            <input type="radio" id="customRadio3" name="cuisineRadio" value="american" class="custom-control-input"
              required>
            <label class="custom-control-label" for="customRadio3">American</label>
          </div>
          <div class="custom-control custom-radio">
            <input type="radio" id="customRadio4" name="cuisineRadio" value="arabian" class="custom-control-input"
              required>
            <label class="custom-control-label" for="customRadio4">Arabian</label>
          </div>
          <hr>
          <button type="submit" class="btn btn-warning">Show Restaurants</button>
        </form>
      </div>
    </div>
  </div>
</div>
<!--Modal for filter by cuisine ends-->